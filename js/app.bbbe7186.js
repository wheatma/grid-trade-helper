(function(e){function t(t){for(var n,a,s=t[0],l=t[1],u=t[2],m=0,f=[];m<s.length;m++)a=s[m],o[a]&&f.push(o[a][0]),o[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==o[l]&&(n=!1)}n&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var n={},o={app:0},i=[];function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=n,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(r,n,function(t){return e[t]}.bind(null,n));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/grid-trade-helper/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),o=r.n(n);o.a},"0817":function(e,t,r){e.exports=r.p+"img/slogan.daed7248.png"},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("el-container",[n("el-header",[n("span",{staticClass:"site-name"},[e._v("网格交易助手v2.0")]),n("img",{staticClass:"site-slogan",attrs:{src:r("0817")}})]),n("el-main",[n("el-card",{attrs:{shadow:"hover"}},[n("grid-form",{attrs:{onSubmit:e.onSubmit}})],1),n("grid-table",{staticStyle:{marginTop:"40px"},attrs:{config:e.config,data:e.data}})],1)],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"gridForm",staticClass:"grid-form",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"开网价格",prop:"startPrice"}},[r("el-input-number",{attrs:{min:0,step:.01,controls:!1,placeholder:"请输入开网价格"},model:{value:e.form.startPrice,callback:function(t){e.$set(e.form,"startPrice",t)},expression:"form.startPrice"}})],1)],1),r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"每网金额",prop:"amount"}},[r("el-input-number",{attrs:{min:0,step:100,controls:!1,placeholder:"请输入每网金额"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1)],1)],1),r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"网格幅度",required:""}},[r("el-slider",{attrs:{marks:e.marks.rate,step:1,min:1,max:15,"format-tooltip":e.formatTooltip},model:{value:e.form.rate,callback:function(t){e.$set(e.form,"rate",e._n(t))},expression:"form.rate"}})],1)],1),r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"压力测试",required:""}},[r("el-slider",{attrs:{marks:e.marks.stress,step:5,min:15,max:95,"format-tooltip":e.formatTooltip},model:{value:e.form.stress,callback:function(t){e.$set(e.form,"stress",e._n(t))},expression:"form.stress"}})],1)],1)],1),r("el-row",[r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{prop:"mode"},scopedSlots:e._u([{key:"label",fn:function(){return[e._v("模式\n          "),r("el-tooltip",{attrs:{effect:"dark",content:"券商模式买入/卖出数量以100为单位",placement:"top"}},[r("i",{staticClass:"el-icon-question"})])]},proxy:!0}])},[r("el-switch",{attrs:{"active-text":"券商模式","inactive-text":"理论模式"},model:{value:e.form.mode,callback:function(t){e.$set(e.form,"mode",t)},expression:"form.mode"}})],1)],1),r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"策略",prop:"strategy"}},[r("el-checkbox",{model:{value:e.form.retain,callback:function(t){e.$set(e.form,"retain",t)},expression:"form.retain"}},[e._v("留利润")]),r("el-checkbox",{model:{value:e.form.raise,callback:function(t){e.$set(e.form,"raise",t)},expression:"form.raise"}},[e._v("逐格加码")]),r("el-checkbox",{model:{value:e.form.trap,callback:function(t){e.$set(e.form,"trap",t)},expression:"form.trap"}},[e._v("一网打尽")])],1)],1)],1),e.form.retain?r("el-row",[r("el-form-item",{attrs:{label:"利润倍数"}},[r("el-input-number",{attrs:{step:1,min:1,placeholder:"请输入张网系数","step-strictly":""},model:{value:e.form.retainTimes,callback:function(t){e.$set(e.form,"retainTimes",t)},expression:"form.retainTimes"}})],1)],1):e._e(),e.form.raise?r("el-row",[r("el-col",{attrs:{span:12,xs:24}},[r("el-form-item",{attrs:{label:"加码幅度"}},[r("el-slider",{attrs:{marks:e.marks.rate,step:5,max:30,"format-tooltip":e.formatTooltip},model:{value:e.form.raiseRate,callback:function(t){e.$set(e.form,"raiseRate",e._n(t))},expression:"form.raiseRate"}})],1)],1)],1):e._e(),e.form.trap?r("el-row",[r("el-form-item",{attrs:{label:"张网系数"}},[r("el-input-number",{attrs:{step:1,min:2,max:Math.floor(50/e.form.rate),placeholder:"请输入张网系数","step-strictly":""},model:{value:e.form.trapTimes,callback:function(t){e.$set(e.form,"trapTimes",t)},expression:"form.trapTimes"}}),e._v("\n      （中网"+e._s(e.form.trapTimes*e.form.rate)+"%， 大网"+e._s(e.form.trapTimes*e.form.rate*2)+"%）\n    ")],1)],1):e._e(),r("el-row",[r("el-form-item",{staticClass:"form-opt"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("gridForm")}}},[e._v("生成网格")]),r("el-button",{on:{click:function(t){return e.resetForm("gridForm")}}},[e._v("重置")])],1)],1)],1)},s=[],l=r("cebc"),u={startPrice:.5,amount:1e3,rate:5,stress:60,mode:!1,retain:!1,retainTimes:1,raise:!1,raiseRate:5,trap:!1,trapTimes:3},c={props:{onSubmit:{type:Function,default:function(){}}},data:function(){var e=this,t=function(t){return{style:{color:"#1989FA"},label:e.$createElement("strong",t)}};return{form:Object(l["a"])({},u),marks:{rate:{5:t("5%"),10:t("10%")},stress:{60:t("60%"),80:t("80%")}},rules:{startPrice:[{required:!0,message:"请输入开网价格",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}],amount:[{required:!0,message:"请输入每网金额",trigger:"blur"},{type:"number",message:"请输入数字",trigger:"blur"}]}}},methods:{formatTooltip:function(e){return"".concat(e,"%")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.onSubmit(Object(l["a"])({},t.form))})},resetForm:function(e){this.$refs[e].resetFields(),this.form=Object(l["a"])({},u)}}},m=c,f=(r("c661"),r("2877")),p=Object(f["a"])(m,a,s,!1,null,null,null),d=p.exports,h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-table",{staticClass:"grid-table",attrs:{data:e.data,"show-summary":"","summary-method":e.getSummaries,"row-class-name":e.tableRowClassName}},[e.config.trap?e._e():r("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),e._l(e.columns,function(t){return r("el-table-column",e._b({key:t.prop},"el-table-column",t,!1))})],2)},y=[],g=(r("c5f6"),r("75fc")),b={props:{config:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{columns:function(){var e=this.config,t=e.trap,r=void 0!==t&&t,n=e.retain,o=void 0!==n&&n,i=[{prop:"buyPrice",label:"买入价格"},{prop:"sellPrice",label:"卖出价格"},{prop:"buyMoney",label:"买入金额"},{prop:"buyAmount",label:"买入数量"},{prop:"sellMoney",label:"卖出金额"},{prop:"sellAmount",label:"卖出数量"}],a={small:"小网",middle:"中网",large:"大网"},s=r?[{prop:"type",label:"种类",width:80,formatter:function(e,t,r){return a[r]||""}}]:[],l=o?[{prop:"retainAmount",label:"本期留存数量"},{prop:"retainProfit",label:"本期留存利润"}]:[{prop:"profit",label:"盈利金额"},{prop:"profitRate",label:"盈利比例",formatter:function(e,t,r){return isNaN(r)?r:"".concat(r,"%")}}];return i=[].concat(s,Object(g["a"])(i),l),i}},methods:{tableRowClassName:function(e){var t=e.row;return"middle"===t.type?"middle-grid":"large"===t.type?"large-grid":""},getSummaries:function(e){var t=e.columns,r=e.data;return t.map(function(e,t){if(0===t)return"压力测试";if("buyMoney"===e.property){var n=r.map(function(t){return Number(t[e.property])});return n.reduce(function(e,t){return e+=t,e},0)}return""})}}},v=b,T=(r("a929"),Object(f["a"])(v,h,y,!1,null,null,null)),P=T.exports,k=r("d225"),w=r("b0b4"),A=function(e){return isNaN(e)?e:Math.round(e)},M=function(e){return isNaN(e)?e:Number(e).toFixed(2)},S=100,x=function(){function e(t){Object(k["a"])(this,e),this.conditions=t;var r=t.startPrice,n=t.amount,o=t.rate,i=t.retain,a=t.retainTimes,s=t.raise,l=t.raiseRate,u=t.trap,c=t.trapTimes;this.priceStep=r*o/100,this.moneyStep=s?n*l/100:0,this.retainTimes=i?a:0,this.trapTimes=u&&c>1?c:0}return Object(w["a"])(e,[{key:"getData",value:function(){var e=this.conditions,t=e.rate,r=e.stress,n=0,o=Math.floor(r/t),i=[];while(n<=o)i.push(this.getRowData(n)),this.trapTimes&&n&&(n%this.trapTimes||i.push(this.getRowData(n,"middle")),n%(2*this.trapTimes)||i.push(this.getRowData(n,"large"))),n++;return i}},{key:"getRowBuyPrice",value:function(e){var t=this.conditions.startPrice;return Number(M(t-e*this.priceStep))}},{key:"getRowPriceStep",value:function(e){var t=this.priceStep;switch(e){case"middle":t*=this.trapTimes;break;case"large":t*=2*this.trapTimes;break;default:break}return t}},{key:"getRowSellPrice",value:function(e,t){var r=this.getRowBuyPrice(e);return Number(M(r+this.getRowPriceStep(t)))}},{key:"getRowBuyMoney",value:function(e){var t=this.conditions.amount;return Number(A(t+e*this.moneyStep))}},{key:"getRowData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",r=this.conditions.mode,n=this.getRowBuyPrice(e),o=this.getRowBuyMoney(e),i=this.getRowSellPrice(e,t),a=new R({type:t,buyPrice:n,buyMoney:o,sellPrice:i,retainTimes:this.retainTimes});return r?a.getTradeData():a.getData()}}]),e}(),R=function(){function e(t){Object(k["a"])(this,e);var r=t.buyPrice,n=t.sellPrice,o=t.buyMoney,i=t.retainTimes,a=t.type,s=void 0===a?"small":a;this.buyPrice=r,this.sellPrice=n,this.buyMoney=o,this.retainTimes=i,this.type=s}return Object(w["a"])(e,[{key:"getBuyAmount",value:function(){return this.buyAmount||(this.buyAmount=this.buyMoney/this.buyPrice),this.buyAmount}},{key:"getSellMoney",value:function(){if(!this.sellMoney){var e=this.getBuyAmount()*this.sellPrice,t=e-this.buyMoney,r=t*this.retainTimes;this.sellMoney=e>r?e-r:0}return this.sellMoney}},{key:"getSellAmount",value:function(){return this.sellAmount||(this.sellAmount=this.getSellMoney()/this.sellPrice),this.sellAmount}},{key:"getRetainProfit",value:function(){return this.sellPrice*this.getRetainAmount()}},{key:"getRetainAmount",value:function(){return this.getBuyAmount()-this.getSellAmount()}},{key:"getProfit",value:function(){return this.getSellMoney()-this.buyMoney}},{key:"getProfitRate",value:function(){return this.buyMoney>0?100*this.getProfit()/this.buyMoney:"-"}},{key:"getData",value:function(){var e={buyPrice:M(this.buyPrice),sellPrice:M(this.sellPrice),buyMoney:A(this.buyMoney),buyAmount:A(this.getBuyAmount()),sellAmount:A(this.getSellAmount()),sellMoney:A(this.getSellMoney())},t=this.retainTimes?{retainProfit:A(this.getRetainProfit()),retainAmount:A(this.getRetainAmount())}:{profit:A(this.getProfit()),profitRate:M(this.getProfitRate())};return Object(l["a"])({type:this.type},e,t)}},{key:"getTradeBuyAmount",value:function(){if(!this.tradeBuyAmount){var e=this.getBuyAmount();this.tradeBuyAmount=Math.round(e/S)*S}return this.tradeBuyAmount}},{key:"getTradeBuyMoney",value:function(){return this.tradeBuyMoney||(this.tradeBuyMoney=this.buyPrice*this.getTradeBuyAmount()),this.tradeBuyMoney}},{key:"getTradeSellAmount",value:function(){if(!this.tradeSellAmount){var e=this.getTradeBuyAmount(),t=e*this.sellPrice,r=t-this.getTradeBuyMoney(),n=r*this.retainTimes,o=Math.round(n/this.sellPrice/S)*S;this.tradeSellAmount=e>o?e-o:e}return this.tradeSellAmount}},{key:"getTradeSellMoney",value:function(){return this.tradeSellMoney?this.tradeSellMoney:this.getTradeSellAmount()*this.sellPrice}},{key:"getTradeRetainProfit",value:function(){return this.sellPrice*this.getTradeRetainAmount()}},{key:"getTradeRetainAmount",value:function(){return this.getTradeBuyAmount()-this.getTradeSellAmount()}},{key:"getTradeProfit",value:function(){return this.getTradeSellMoney()-this.getTradeBuyMoney()}},{key:"getTradeProfitRate",value:function(){var e=this.getTradeBuyMoney();return e>0?100*this.getTradeProfit()/this.getTradeBuyMoney():"-"}},{key:"getTradeData",value:function(){var e={buyPrice:M(this.buyPrice),sellPrice:M(this.sellPrice),buyMoney:M(this.getTradeBuyMoney()),buyAmount:A(this.getTradeBuyAmount()),sellAmount:A(this.getTradeSellAmount()),sellMoney:M(this.getTradeSellMoney())},t=this.retainTimes?{retainProfit:M(this.getTradeRetainProfit()),retainAmount:A(this.getTradeRetainAmount())}:{profit:M(this.getTradeProfit()),profitRate:M(this.getTradeProfitRate())};return Object(l["a"])({type:this.type},e,t)}}]),e}(),_={name:"app",components:{"grid-form":d,"grid-table":P},data:function(){return{data:[],config:{}}},methods:{onSubmit:function(e){var t=e.trap,r=e.retain;this.config={trap:t,retain:r};var n=new x(e);this.data=n.getData()}}},B=_,j=(r("034f"),Object(f["a"])(B,o,i,!1,null,null,null)),O=j.exports,$=r("9483");Object($["a"])("".concat("/grid-trade-helper/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var N=r("5c96"),F=r.n(N);r("0fae");n["default"].use(F.a),n["default"].config.productionTip=!1,new n["default"]({render:function(e){return e(O)}}).$mount("#app")},"64a9":function(e,t,r){},"869f":function(e,t,r){},a929:function(e,t,r){"use strict";var n=r("869f"),o=r.n(n);o.a},c661:function(e,t,r){"use strict";var n=r("ea61"),o=r.n(n);o.a},ea61:function(e,t,r){}});
//# sourceMappingURL=app.bbbe7186.js.map